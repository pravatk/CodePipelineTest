AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: This is the function to get Position details given a position id from SW SOAP APIs
Parameters: 
  API_USERNAME:
    Type: String
    Description: This is the ShiftWise Endpoint Username that will be used when invoking SW APIs. This must be encrypted using KMS key
  API_PASSWORD:
    Type: String
    Description: This is the ShiftWise Endpoint password that will be used when invoking SW APIs. This must be encrypted using KMS key
  SHIFTWISE_API_URL:
    Type: String
    Description: This is the ShiftWise Endpoint URL that will be used to invoke SOAP APIs
Resources:
  GetPositionDetails:
    Type: AWS::Serverless::Function
    Properties:
      Handler: com.amazonaws.lambda.hello.LambdaFunctionHandler::handleRequest
      Runtime: java8
      CodeUri: ./HelloWorldLambda/target/hello-1.0.0.jar
      Environment:
        API_USERNAME: !Ref API_USERNAME
        API_PASSWORD: !Ref API_PASSWORD
        SW_API_URL: !Ref SHIFTWISE_API_URL
  ShiftwiseNotification:
    Type: AWS::Serverless::Function
    Properties:
      Handler: com.amazonaws.lambda.bye.LambdaFunctionHandler::handleRequest
      Runtime: java8
      CodeUri: ./ByeWorldLambda/target/bye-1.0.0.jar
      Environment:
        API_USERNAME: !Ref API_USERNAME
        API_PASSWORD: !Ref API_PASSWORD
        SW_API_URL: !Ref SHIFTWISE_API_URL
